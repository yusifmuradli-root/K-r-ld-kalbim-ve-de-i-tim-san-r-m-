<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C2026 | ƒ∞mtahana Hazƒ±rlƒ±q Portalƒ±</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4F46E5;
            --primary-dark: #4338ca;
            --secondary: #10B981;
            --bg-body: #F3F4F6;
            --bg-card: #FFFFFF;
            --text-main: #1F2937;
            --text-muted: #6B7280;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --radius: 16px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), #818CF8);
            color: white;
            padding: 3rem 1.5rem;
            text-align: center;
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        header h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; letter-spacing: -0.5px; }
        header p { font-size: 1.1rem; opacity: 0.9; font-weight: 300; }

        /* Navigation */
        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin: -1rem auto 2rem;
            padding: 0 1rem;
            position: relative;
            z-index: 10;
        }

        .nav-btn {
            background: var(--bg-card);
            border: none;
            padding: 12px 24px;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 50px;
            box-shadow: var(--shadow-md);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: inherit;
        }

        .nav-btn:hover { transform: translateY(-2px); color: var(--primary); }
        .nav-btn.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
        }

        /* Main Container */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px 40px;
            flex: 1;
            width: 100%;
        }

        /* Loading & Error States */
        .status-msg {
            text-align: center;
            padding: 3rem;
            font-size: 1.1rem;
            color: var(--text-muted);
        }
        .error-msg {
            background: #FEE2E2;
            color: #DC2626;
            padding: 1.5rem;
            border-radius: var(--radius);
            text-align: center;
            border: 1px solid #FECACA;
        }

        /* Categories & Grid */
        .category-block {
            margin-bottom: 3rem;
            animation: slideUp 0.5s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .category-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 1.2rem;
            padding-left: 15px;
            border-left: 5px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow-sm);
            border: 1px solid #E5E7EB;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .card-type-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .type-image { background: #DBEAFE; color: #1E40AF; }
        .type-video { background: #FEE2E2; color: #991B1B; }
        .type-pdf { background: #DCFCE7; color: #166534; }
        .type-link { background: #F3F4F6; color: #374151; }

        .card h3 {
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-main);
            padding-right: 40px;
        }

        .card p {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 20px;
            flex-grow: 1;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .card-action {
            margin-top: auto;
            display: inline-flex;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--primary);
            gap: 6px;
        }
        
        .card:hover .card-action { gap: 10px; transition: gap 0.3s; }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0; top: 0;
            width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.85);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal.show { display: flex; opacity: 1; }
        
        .modal-content {
            max-width: 90%;
            max-height: 90%;
            border-radius: 12px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .modal.show .modal-content { transform: scale(1); }
        
        .modal-close {
            position: absolute;
            top: 20px; right: 30px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s;
            line-height: 1;
        }
        .modal-close:hover { color: var(--primary); }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            background: white;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid #E5E7EB;
            margin-top: auto;
        }

        @media (max-width: 600px) {
            header h1 { font-size: 2rem; }
            .nav-btn { width: 100%; text-align: center; }
            .topics-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <header>
        <h1>C2026 Hazƒ±rlƒ±q Portalƒ±</h1>
        <p>B√ºt√ºn lazƒ±mi resurslar bir klik uzaqlƒ±ƒüƒ±nda</p>
    </header>

    <nav id="navbar">
        <!-- D√ºym…ôl…ôr JS il…ô doldurulacaq -->
    </nav>

    <div class="container" id="main-content">
        <div class="status-msg">‚è≥ M…ôlumatlar y√ºkl…ônir...</div>
    </div>

    <!-- Modal for Images -->
    <div id="imageModal" class="modal" onclick="closeModal(event)">
        <span class="modal-close" onclick="closeModal(event)">&times;</span>
        <img class="modal-content" id="modalImg" alt="M√∂vzu ≈ü…ôkli">
    </div>

    <footer>
        <p>&copy; 2024 C2026 Layih…ôsi. Yusf t…ôr…ôfind…ôn hazƒ±rlanmƒ±≈üdƒ±r.</p>
        <p style="font-size: 0.8rem; margin-top: 5px; opacity: 0.7;">GitHub Pages √ºz…ôrind…ô hostinq edilir.</p>
    </footer>

    <script>
        // Konfiqurasiya
        const SUBJECTS = {
            'azerbaycan': { label: 'üá¶üáø Az…ôrbaycan Dili', icon: 'üìö' },
            'ingilis': { label: 'üá¨üáß ƒ∞ngilis Dili', icon: 'üî§' },
            'riyaziyyat': { label: 'üìê Riyaziyyat', icon: '‚ûó' }
        };

        let currentSubject = 'azerbaycan';
        let dbData = {};

        // Elementl…ôr
        const navbar = document.getElementById('navbar');
        const contentArea = document.getElementById('main-content');
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImg');

        // 1. M…ôlumatlarƒ± Y√ºkl…ô
        async function fetchData() {
            try {
                const response = await fetch('data.json');
                if (!response.ok) throw new Error('data.json tapƒ±lmadƒ± v…ô ya oxunmadƒ±.');
                dbData = await response.json();
                initApp();
            } catch (error) {
                contentArea.innerHTML = `
                    <div class="error-msg">
                        <strong>‚ùå X…ôta:</strong> ${error.message}<br><br>
                        <small>Z…ôhm…ôt olmasa repository-d…ô <code>data.json</code> faylƒ±nƒ±n olduƒüundan v…ô d√ºzg√ºn formatda olduƒüundan …ômin olun.</small>
                    </div>
                `;
                console.error(error);
            }
        }

        // 2. T…ôtbiqi Ba≈ülat
        function initApp() {
            renderNav();
            renderContent(currentSubject);
        }

        // 3. Naviqasiyanƒ± Qur
        function renderNav() {
            navbar.innerHTML = '';
            Object.keys(SUBJECTS).forEach(key => {
                const btn = document.createElement('button');
                btn.className = `nav-btn ${key === currentSubject ? 'active' : ''}`;
                btn.textContent = SUBJECTS[key].label;
                btn.onclick = () => switchSubject(key);
                navbar.appendChild(btn);
            });
        }

        // 4. M√∂vzunu D…ôyi≈ü
        function switchSubject(subjectKey) {
            currentSubject = subjectKey;
            
            // D√ºym…ôl…ôri yenil…ô
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.includes(SUBJECTS[subjectKey].label.split(' ')[1])) {
                    btn.classList.add('active');
                }
            });

            renderContent(subjectKey);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 5. M…ôzmunu Render Et (∆èsas M…ôntiq)
        function renderContent(subjectKey) {
            contentArea.innerHTML = '';
            const data = dbData[subjectKey];

            if (!data || Object.keys(data).length === 0) {
                contentArea.innerHTML = `<div class="status-msg">Bu f…ônn √º√ß√ºn h…ôl…ô m…ôlumat …ôlav…ô edilm…ôyib.<br><small>data.json faylƒ±nƒ± redakt…ô edin.</small></div>`;
                return;
            }

            // H…ôr kateqoriya √º√ß√ºn d√∂vr…ô
            Object.entries(data).forEach(([category, items], index) => {
                if (!items || items.length === 0) return; // Bo≈ü kateqoriyalarƒ± g√∂st…ôrm…ô

                const categoryBlock = document.createElement('div');
                categoryBlock.className = 'category-block';
                categoryBlock.style.animationDelay = `${index * 0.1}s`;

                // Kateqoriya Ba≈ülƒ±ƒüƒ± (ƒ∞lk h…ôrfi b√∂y√ºk et v…ô _ …ôv…ôzin…ô bo≈üluq qoy)
                const formattedCategory = category.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                
                let html = `<div class="category-title">${getCategoryIcon(category)} ${formattedCategory}</div>`;
                html += `<div class="topics-grid">`;

                items.forEach(item => {
                    const typeClass = `type-${item.type || 'link'}`;
                    const typeLabel = item.type ? item.type.toUpperCase() : 'LINK';
                    const actionText = item.type === 'image' ? 'üëÅÔ∏è Bax' : 'üîó Ke√ßid';
                    
                    // Klik hadis…ôsi
                    const clickAction = item.type === 'image' 
                        ? `onclick="openModal('${item.link}')"` 
                        : `onclick="window.open('${item.link}', '_blank')" style="cursor:pointer;"`;

                    html += `
                        <div class="card" ${clickAction}>
                            <span class="card-type-badge ${typeClass}">${typeLabel}</span>
                            <h3>${item.title}</h3>
                            <p>${item.description || '∆ètraflƒ± m…ôlumat √º√ß√ºn klikl…ôyin.'}</p>
                            <div class="card-action">
                                ${actionText} <span>‚Üí</span>
                            </div>
                        </div>
                    `;
                });

                html += `</div>`;
                categoryBlock.innerHTML = html;
                contentArea.appendChild(categoryBlock);
            });
        }

        // K√∂m…ôk√ßi: Kateqoriya ikonu
        function getCategoryIcon(cat) {
            const icons = {
                'fonetika': 'üó£Ô∏è', 'imla_qaydalari': 'üìù', 'sintaksis': 'üìú', 'test_toplulari': '‚úÖ',
                'grammar': 'üî§', 'vocabulary': 'üìñ', 'reading_writing': '‚úçÔ∏è',
                'cebr': '‚ûó', 'hendese': 'üìê', 'trigonometriya': 'üìà', 'funksiyalar': '‚à´'
            };
            return icons[cat] || 'üìÇ';
        }

        // Modal Funksiyalarƒ±
        function openModal(src) {
            modalImg.src = src;
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(e) {
            if (e.target === modal || e.target.classList.contains('modal-close')) {
                modal.classList.remove('show');
                document.body.style.overflow = 'auto';
                setTimeout(() => { modalImg.src = ''; }, 300);
            }
        }

        // ESC d√ºym…ôsi il…ô baƒülama
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('show')) closeModal({ target: modal });
        });

        // Ba≈ülat
        fetchData();
    </script>
</body>
</html>
